<!DOCTYPE html>
<html lang=en>
    <head>
        {% include "./_parts/head.njk" %}
    </head>
    <body>
        <header>
            {% include "./_parts/header.njk" %}
        </header>
        {% if type.includes("documentation") or type.includes("post") %}
        <content id="doc">
        {% elseif type.includes("page") %}
        <content id="page">  
        {% endif %}  
            {% if not type.includes("page") %}
            <section id="aside" class="mobile-hidden">
                <div class="aside-title">
                    <h2>Contents</h2>
                </div>
                <div id="article_contents_list" class="js-toc">
                    <!-- Taken care of by Tocbot -->
                </div> 
                {% if type.includes("documentation") %}
                <div id="aside_docs">
                    {% include "./_parts/docsnav.njk" %}
                </div>
                {% endif %}
                {% if type.includes("post") %}
                <div id="aside_docs">
                    {% include "./_parts/blognav.njk" %}
                </div>
                {% endif %}
            </section>
            {% endif %}
            <section id="page_content">
                <div class="post-meta post-meta-base">
                    <div class="meta-single post-meta-base-left">
                        {% if type.includes("documentation") %}
                        <span class="meta-tiny"><i class="fas fa-globe-europe"></i> {{ published | dateFull }}</span>
                        <i class="fas fa-edit"></i> {{ page.date | dateFull }}
                        {% else %}
                        {{ page.date | dateFull }}
                        {% endif %}
                    </div>
                    <div class="meta-single post-meta-base-right">
                        {% for tag in tags %}
                        {% if not tag.includes("blog") %}
                        # <a class="meta-tag" href="/tags/{{ tag | slugify }}/">{{ tag }}</a>
                        {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <hr>
                <div class="section-title base-title">
                    {{ title }}
                </div>
                <div class="post-block-extra js-toc-content">
                    {{ content | safe }}
                </div>
            </section>
            <!--section id="comment-system">
                <div id='discourse-comments'></div>

                <script type="text/javascript">
                DiscourseEmbed = { discourseUrl: 'https://discuss.bayton.org/',
                                    discourseEmbedUrl: 'https://bayton.org{{ page.url }}' };

                (function() {
                    var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
                    d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
                })();
                </script>
            </section-->
            <!--section id="paginate">
                {% if type.includes("documentation") or type.includes("post") %}
            {% set previousPost = collections.blog | getPreviousCollectionItem(page) %}
            {% set nextPost = collections.blog | getNextCollectionItem(page) %}
            {% if previousPost %}← <a href="{{ previousPost.url }}">{{ previousPost.data.title }}</a>{% endif %}
            {% if nextPost %}<a href="{{ nextPost.url }}">{{ nextPost.data.title }}</a> →{% endif %}
            {% endif %}
            </section-->
            {% if pagination.href.next or pagination.href.previous %}
            {% include "./_parts/paginate.njk" %}
            {% endif %}
            <section id="feedback">
                <div id="content_report">
                    Problem with this content? <a href="https://github.com/jasonbayton/11ty/blob/main/{{ page.inputPath }}">Make an edit</a>.
                  </div>
            </section>
        </content>
        <footer>
            {% include "./_parts/footer.njk" %}
        </footer>
    </body>
</html>